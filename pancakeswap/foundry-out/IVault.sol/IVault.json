{"abi":[{"type":"function","name":"accountAppBalanceDelta","inputs":[{"name":"currency","type":"address","internalType":"Currency"},{"name":"delta","type":"int128","internalType":"int128"},{"name":"settler","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"accountAppBalanceDelta","inputs":[{"name":"key","type":"tuple","internalType":"struct PoolKey","components":[{"name":"currency0","type":"address","internalType":"Currency"},{"name":"currency1","type":"address","internalType":"Currency"},{"name":"hooks","type":"address","internalType":"contract IHooks"},{"name":"poolManager","type":"address","internalType":"contract IPoolManager"},{"name":"fee","type":"uint24","internalType":"uint24"},{"name":"parameters","type":"bytes32","internalType":"bytes32"}]},{"name":"delta","type":"int256","internalType":"BalanceDelta"},{"name":"settler","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"allowance","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"spender","type":"address","internalType":"address"},{"name":"currency","type":"address","internalType":"Currency"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"approve","inputs":[{"name":"spender","type":"address","internalType":"address"},{"name":"currency","type":"address","internalType":"Currency"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"balanceOf","inputs":[{"name":"user","type":"address","internalType":"address"},{"name":"currency","type":"address","internalType":"Currency"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"burn","inputs":[{"name":"from","type":"address","internalType":"address"},{"name":"currency","type":"address","internalType":"Currency"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"collectFee","inputs":[{"name":"currency","type":"address","internalType":"Currency"},{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"recipient","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"currencyDelta","inputs":[{"name":"settler","type":"address","internalType":"address"},{"name":"currency","type":"address","internalType":"Currency"}],"outputs":[{"name":"","type":"int256","internalType":"int256"}],"stateMutability":"view"},{"type":"function","name":"getLocker","inputs":[],"outputs":[{"name":"locker","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getUnsettledDeltasCount","inputs":[],"outputs":[{"name":"count","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"isAppRegistered","inputs":[{"name":"app","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"lock","inputs":[{"name":"data","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"","type":"bytes","internalType":"bytes"}],"stateMutability":"nonpayable"},{"type":"function","name":"mint","inputs":[{"name":"to","type":"address","internalType":"address"},{"name":"currency","type":"address","internalType":"Currency"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"registerApp","inputs":[{"name":"app","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"reservesOfApp","inputs":[{"name":"app","type":"address","internalType":"address"},{"name":"currency","type":"address","internalType":"Currency"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"reservesOfVault","inputs":[{"name":"currency","type":"address","internalType":"Currency"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"settle","inputs":[{"name":"token","type":"address","internalType":"Currency"}],"outputs":[{"name":"paid","type":"uint256","internalType":"uint256"}],"stateMutability":"payable"},{"type":"function","name":"settleFor","inputs":[{"name":"currency","type":"address","internalType":"Currency"},{"name":"target","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"sync","inputs":[{"name":"token0","type":"address","internalType":"Currency"}],"outputs":[{"name":"balance","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"take","inputs":[{"name":"currency","type":"address","internalType":"Currency"},{"name":"to","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transfer","inputs":[{"name":"to","type":"address","internalType":"address"},{"name":"currency","type":"address","internalType":"Currency"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"function","name":"transferFrom","inputs":[{"name":"from","type":"address","internalType":"address"},{"name":"to","type":"address","internalType":"address"},{"name":"currency","type":"address","internalType":"Currency"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"nonpayable"},{"type":"event","name":"AppRegistered","inputs":[{"name":"app","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Approval","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"spender","type":"address","indexed":true,"internalType":"address"},{"name":"currency","type":"address","indexed":true,"internalType":"Currency"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"OperatorSet","inputs":[{"name":"owner","type":"address","indexed":true,"internalType":"address"},{"name":"operator","type":"address","indexed":true,"internalType":"address"},{"name":"approved","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"Transfer","inputs":[{"name":"caller","type":"address","indexed":false,"internalType":"address"},{"name":"from","type":"address","indexed":true,"internalType":"address"},{"name":"to","type":"address","indexed":true,"internalType":"address"},{"name":"currency","type":"address","indexed":true,"internalType":"Currency"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"AppUnregistered","inputs":[]},{"type":"error","name":"CurrencyNotSettled","inputs":[]},{"type":"error","name":"LockerAlreadySet","inputs":[{"name":"locker","type":"address","internalType":"address"}]},{"type":"error","name":"NoLocker","inputs":[]},{"type":"error","name":"SettleNonNativeCurrencyWithValue","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"accountAppBalanceDelta((address,address,address,address,uint24,bytes32),int256,address)":"d6501f96","accountAppBalanceDelta(address,int128,address)":"6d102799","allowance(address,address,address)":"927da105","approve(address,address,uint256)":"e1f21c67","balanceOf(address,address)":"f7888aec","burn(address,address,uint256)":"f6b911bc","collectFee(address,uint256,address)":"eb78b435","currencyDelta(address,address)":"a54b2831","getLocker()":"5d4e0ced","getUnsettledDeltasCount()":"fda42892","isAppRegistered(address)":"8403be91","lock(bytes)":"81548319","mint(address,address,uint256)":"c6c3bbe6","registerApp(address)":"17a1d80f","reservesOfApp(address,address)":"322c3620","reservesOfVault(address)":"131dfb8b","settle(address)":"6a256b29","settleFor(address,address,uint256)":"1d4631a4","sync(address)":"a5841194","take(address,address,uint256)":"0b0d9c09","transfer(address,address,uint256)":"beabacc8","transferFrom(address,address,address,uint256)":"15dacbea"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"AppUnregistered\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CurrencyNotSettled\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"locker\",\"type\":\"address\"}],\"name\":\"LockerAlreadySet\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoLocker\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SettleNonNativeCurrencyWithValue\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"app\",\"type\":\"address\"}],\"name\":\"AppRegistered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"OperatorSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"caller\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"int128\",\"name\":\"delta\",\"type\":\"int128\"},{\"internalType\":\"address\",\"name\":\"settler\",\"type\":\"address\"}],\"name\":\"accountAppBalanceDelta\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"Currency\",\"name\":\"currency0\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency1\",\"type\":\"address\"},{\"internalType\":\"contract IHooks\",\"name\":\"hooks\",\"type\":\"address\"},{\"internalType\":\"contract IPoolManager\",\"name\":\"poolManager\",\"type\":\"address\"},{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"},{\"internalType\":\"bytes32\",\"name\":\"parameters\",\"type\":\"bytes32\"}],\"internalType\":\"struct PoolKey\",\"name\":\"key\",\"type\":\"tuple\"},{\"internalType\":\"BalanceDelta\",\"name\":\"delta\",\"type\":\"int256\"},{\"internalType\":\"address\",\"name\":\"settler\",\"type\":\"address\"}],\"name\":\"accountAppBalanceDelta\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"spender\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"recipient\",\"type\":\"address\"}],\"name\":\"collectFee\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"settler\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"}],\"name\":\"currencyDelta\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"\",\"type\":\"int256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getLocker\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"locker\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getUnsettledDeltasCount\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"count\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"app\",\"type\":\"address\"}],\"name\":\"isAppRegistered\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"lock\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"mint\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"app\",\"type\":\"address\"}],\"name\":\"registerApp\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"app\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"}],\"name\":\"reservesOfApp\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"}],\"name\":\"reservesOfVault\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"Currency\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"settle\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"paid\",\"type\":\"uint256\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"target\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"settleFor\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"Currency\",\"name\":\"token0\",\"type\":\"address\"}],\"name\":\"sync\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"take\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"Currency\",\"name\":\"currency\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"errors\":{\"LockerAlreadySet(address)\":[{\"params\":{\"locker\":\"The address of the current locker\"}}]},\"kind\":\"dev\",\"methods\":{\"accountAppBalanceDelta((address,address,address,address,uint24,bytes32),int256,address)\":{\"params\":{\"delta\":\"The change in the pool's balance\",\"key\":\"The key for the pool\",\"settler\":\"The address whose delta will be updated\"}},\"accountAppBalanceDelta(address,int128,address)\":{\"params\":{\"currency\":\"The currency to update\",\"delta\":\"The change in the balance\",\"settler\":\"The address whose delta will be updated\"}},\"collectFee(address,uint256,address)\":{\"details\":\"no restriction on caller, underflow happen if caller collect more than the reserve\"},\"currencyDelta(address,address)\":{\"params\":{\"currency\":\"The currency for which to lookup the delta\"}},\"lock(bytes)\":{\"params\":{\"data\":\"Any data to pass to the callback, via `ILockCallback(msg.sender).lockCallback(data)`\"},\"returns\":{\"_0\":\"The data returned by the call to `ILockCallback(msg.sender).lockCallback(data)`\"}},\"settleFor(address,address,uint256)\":{\"params\":{\"amount\":\"The amount to settle. 0 to settle all outstanding debt\",\"currency\":\"The currency to settle\",\"target\":\"The address whose delta will be updated\"}},\"take(address,address,uint256)\":{\"details\":\"Can also be used as a mechanism for _free_ flash loans\"}},\"version\":1},\"userdoc\":{\"errors\":{\"AppUnregistered()\":[{\"notice\":\"Thrown when a app is not registered\"}],\"CurrencyNotSettled()\":[{\"notice\":\"Thrown when a currency is not netted out after a lock\"}],\"LockerAlreadySet(address)\":[{\"notice\":\"Thrown when there is already a locker\"}],\"NoLocker()\":[{\"notice\":\"Thrown when there is no locker\"}],\"SettleNonNativeCurrencyWithValue()\":[{\"notice\":\"Thrown when passing in msg.value for non-native currency\"}]},\"kind\":\"user\",\"methods\":{\"accountAppBalanceDelta((address,address,address,address,uint24,bytes32),int256,address)\":{\"notice\":\"Called by registered app to account for a change in the pool balance, convenient for AMM pool manager, typically after modifyLiquidity, swap, donate\"},\"accountAppBalanceDelta(address,int128,address)\":{\"notice\":\"This works as a general accounting mechanism for non-dex app\"},\"allowance(address,address,address)\":{\"notice\":\"get the amount that user has authorized for spender to use\"},\"approve(address,address,uint256)\":{\"notice\":\"approve spender for using user's token\"},\"balanceOf(address,address)\":{\"notice\":\"get the amount of user's surplus token in vault\"},\"burn(address,address,uint256)\":{\"notice\":\"Called by the user to use surplus tokens for payment settlement\"},\"collectFee(address,uint256,address)\":{\"notice\":\"Called by app to collect any fee related\"},\"currencyDelta(address,address)\":{\"notice\":\"Get the current delta for a locker in the given currency\"},\"getLocker()\":{\"notice\":\"Returns the locker who is locking the vault\"},\"getUnsettledDeltasCount()\":{\"notice\":\"Returns lock data\"},\"lock(bytes)\":{\"notice\":\"All operations go through this function\"},\"mint(address,address,uint256)\":{\"notice\":\"Called by the user to store surplus tokens in the vault\"},\"registerApp(address)\":{\"notice\":\"register an app so that it can perform accounting base on vault\"},\"reservesOfApp(address,address)\":{\"notice\":\"Returns the reserves for a a given pool type and currency\"},\"reservesOfVault(address)\":{\"notice\":\"Returns the reserves for a currency thats sync in transient storage\"},\"settle(address)\":{\"notice\":\"Called by the user to pay what is owed\"},\"settleFor(address,address,uint256)\":{\"notice\":\"move the delta from target to the msg.sender, only payment delta can be moved\"},\"sync(address)\":{\"notice\":\"Called before erc20 transfer to tstore the current reserve balance\"},\"take(address,address,uint256)\":{\"notice\":\"Called by the user to net out some value owed to the user\"},\"transfer(address,address,uint256)\":{\"notice\":\"transfer user' token to someone else\"},\"transferFrom(address,address,address,uint256)\":{\"notice\":\"transfer user's token to someone else on behalf of user\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/pancake-v4-core/src/interfaces/IVault.sol\":\"IVault\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@pancakeswap/v4-core/=lib/pancake-v4-core/\",\":@pancakeswap/v4-periphery/=lib/pancake-v4-periphery/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-gas-snapshot/=lib/pancake-v4-core/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":pancake-v4-core/=lib/pancake-v4-core/\",\":pancake-v4-periphery/=lib/pancake-v4-periphery/\",\":prb-math/=lib/prb-math/src/\",\":solmate/=lib/solmate/src/\"],\"viaIR\":true},\"sources\":{\"lib/pancake-v4-core/src/interfaces/IERC20Minimal.sol\":{\"keccak256\":\"0xd21325930292346a3d8ccd787a3c1f2e96da5af5b8b1871f3230ef40a2dfb080\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://adc2083a73040d486be24418b86bd46380aaac7a06923d8a3b1675d6a03d0f99\",\"dweb:/ipfs/QmVE6sj6CBdR1tus2aYQoRTKFtjGaUufZN2C9QV88birgc\"]},\"lib/pancake-v4-core/src/interfaces/IHooks.sol\":{\"keccak256\":\"0x1a47a0c52d038f3f231de66c7d558fc6dfc663f4b24c6e95bef922423cfdc027\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://eb2792b93a6601ba00141245e8101bd35c91df2d7e13e8cc31966ed85fde291a\",\"dweb:/ipfs/QmTihJz4NjA1G4217v58LaBYwLo5xaMXyLGUrbaFKXRLDd\"]},\"lib/pancake-v4-core/src/interfaces/IPoolManager.sol\":{\"keccak256\":\"0x5b909dcddd6280ca0dba6d5ddc949c1640ee11dfcf8edfd67c030aaee34a7ad2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3cd7bcfa9a82e175e55600e8e8a0dc7f840cb2c9df4414b9c8cfb94eb7971bb9\",\"dweb:/ipfs/QmaFZ6DUUAWiv7W8vA4kbfinAQFm4xpjQNk5kdtCwnLbdT\"]},\"lib/pancake-v4-core/src/interfaces/IVault.sol\":{\"keccak256\":\"0x31673494ff60d61195f98ec2f5ea0a212856f6f1d31b435c9d39d73a18524990\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://55a19205c0359f2cc2bca4ac98914645dd20e5a08b558ff5a49c5d8f21e624a8\",\"dweb:/ipfs/QmUKwCsmEinpSZ4tqZVJRXSUPJV8XWfRxatSW13PD8HAXM\"]},\"lib/pancake-v4-core/src/interfaces/IVaultToken.sol\":{\"keccak256\":\"0xd797ac4079da85c7a567113387e28c80e7500f4d86c8135db8de95abdf5c6e99\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://3aef9e38b91d5c8dae9f6c363e29cab77b761a69ceee9fbd24403154a03b8660\",\"dweb:/ipfs/QmeiSkKB2M5knX5JB7rUiCNoVXAmxpm5VWumeStrDjBFDB\"]},\"lib/pancake-v4-core/src/libraries/SafeCast.sol\":{\"keccak256\":\"0x9cbb4deefa6484fc1118d9ae72d722e71814b348731d7076692ae50b9031f0d1\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://f0e3bd73a57b9615f5d2ccbbca9929bc06878319e9ae2766db20d19a32e78853\",\"dweb:/ipfs/Qmbk8uduYAzdLB2oEnzhaMjcxxMmpgyaYAcHZ7wU3nUrBZ\"]},\"lib/pancake-v4-core/src/types/BalanceDelta.sol\":{\"keccak256\":\"0xe0cbcbc0e9aef0d26a9ef50842a520bf12119b719b6e069fd962acb8ef7b5f11\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://72d77b9250591d710f7c2dd96c4f4726eeabb715241ab95e3c31904886d046e3\",\"dweb:/ipfs/Qmbg4NurmaaUsNtppbotGHhmLx4mZCnCmFw6Aaf6jNb5ye\"]},\"lib/pancake-v4-core/src/types/Currency.sol\":{\"keccak256\":\"0x0397802dd803c0597f1901730205d88a2f8bc477e8e01dec4388b10657fd6612\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ec69282d8f1aed08727b2aef64312acb70f53e7cc7eccc987d7c1a1763bcbe90\",\"dweb:/ipfs/QmcYVAvNgUegatJpj36jP2ZwUFAEB8vaPU6HPXR9zT2xJ8\"]},\"lib/pancake-v4-core/src/types/PoolId.sol\":{\"keccak256\":\"0x97edd77c22b437593e308eb69ba4784c0f29b838d2eda4736062e052cdf97de9\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://ec8b9814de701ff4d33993e93ecdbc766464296326a642740e8ea286d0d57c3c\",\"dweb:/ipfs/Qmdn5YXLggxU42sBtAUzWzChqx2ZaiAQPcH3d3LF7k5gyK\"]},\"lib/pancake-v4-core/src/types/PoolKey.sol\":{\"keccak256\":\"0x8bd3aed0b084a2212fde0da30545f6b1ebe3cfee0cc37b0b6f86672014344579\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b434855923c5751ede1760408f38ccdc756f87e9be09b451bbc2743f0ec81501\",\"dweb:/ipfs/QmarGBR8SJGK4fWkmiESn4tJUKR6yRUyy6DJxJkpEEi1gk\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"AppUnregistered"},{"inputs":[],"type":"error","name":"CurrencyNotSettled"},{"inputs":[{"internalType":"address","name":"locker","type":"address"}],"type":"error","name":"LockerAlreadySet"},{"inputs":[],"type":"error","name":"NoLocker"},{"inputs":[],"type":"error","name":"SettleNonNativeCurrencyWithValue"},{"inputs":[{"internalType":"address","name":"app","type":"address","indexed":true}],"type":"event","name":"AppRegistered","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"spender","type":"address","indexed":true},{"internalType":"Currency","name":"currency","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"Approval","anonymous":false},{"inputs":[{"internalType":"address","name":"owner","type":"address","indexed":true},{"internalType":"address","name":"operator","type":"address","indexed":true},{"internalType":"bool","name":"approved","type":"bool","indexed":false}],"type":"event","name":"OperatorSet","anonymous":false},{"inputs":[{"internalType":"address","name":"caller","type":"address","indexed":false},{"internalType":"address","name":"from","type":"address","indexed":true},{"internalType":"address","name":"to","type":"address","indexed":true},{"internalType":"Currency","name":"currency","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"Transfer","anonymous":false},{"inputs":[{"internalType":"Currency","name":"currency","type":"address"},{"internalType":"int128","name":"delta","type":"int128"},{"internalType":"address","name":"settler","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"accountAppBalanceDelta"},{"inputs":[{"internalType":"struct PoolKey","name":"key","type":"tuple","components":[{"internalType":"Currency","name":"currency0","type":"address"},{"internalType":"Currency","name":"currency1","type":"address"},{"internalType":"contract IHooks","name":"hooks","type":"address"},{"internalType":"contract IPoolManager","name":"poolManager","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"bytes32","name":"parameters","type":"bytes32"}]},{"internalType":"BalanceDelta","name":"delta","type":"int256"},{"internalType":"address","name":"settler","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"accountAppBalanceDelta"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"Currency","name":"currency","type":"address"}],"stateMutability":"view","type":"function","name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"Currency","name":"currency","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"Currency","name":"currency","type":"address"}],"stateMutability":"view","type":"function","name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"Currency","name":"currency","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"burn"},{"inputs":[{"internalType":"Currency","name":"currency","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"recipient","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"collectFee"},{"inputs":[{"internalType":"address","name":"settler","type":"address"},{"internalType":"Currency","name":"currency","type":"address"}],"stateMutability":"view","type":"function","name":"currencyDelta","outputs":[{"internalType":"int256","name":"","type":"int256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getLocker","outputs":[{"internalType":"address","name":"locker","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getUnsettledDeltasCount","outputs":[{"internalType":"uint256","name":"count","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"app","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"isAppRegistered","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"bytes","name":"data","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"lock","outputs":[{"internalType":"bytes","name":"","type":"bytes"}]},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"Currency","name":"currency","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"mint"},{"inputs":[{"internalType":"address","name":"app","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"registerApp"},{"inputs":[{"internalType":"address","name":"app","type":"address"},{"internalType":"Currency","name":"currency","type":"address"}],"stateMutability":"view","type":"function","name":"reservesOfApp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"Currency","name":"currency","type":"address"}],"stateMutability":"view","type":"function","name":"reservesOfVault","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"Currency","name":"token","type":"address"}],"stateMutability":"payable","type":"function","name":"settle","outputs":[{"internalType":"uint256","name":"paid","type":"uint256"}]},{"inputs":[{"internalType":"Currency","name":"currency","type":"address"},{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"settleFor"},{"inputs":[{"internalType":"Currency","name":"token0","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"sync","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}]},{"inputs":[{"internalType":"Currency","name":"currency","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"take"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"Currency","name":"currency","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"Currency","name":"currency","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{"accountAppBalanceDelta((address,address,address,address,uint24,bytes32),int256,address)":{"params":{"delta":"The change in the pool's balance","key":"The key for the pool","settler":"The address whose delta will be updated"}},"accountAppBalanceDelta(address,int128,address)":{"params":{"currency":"The currency to update","delta":"The change in the balance","settler":"The address whose delta will be updated"}},"collectFee(address,uint256,address)":{"details":"no restriction on caller, underflow happen if caller collect more than the reserve"},"currencyDelta(address,address)":{"params":{"currency":"The currency for which to lookup the delta"}},"lock(bytes)":{"params":{"data":"Any data to pass to the callback, via `ILockCallback(msg.sender).lockCallback(data)`"},"returns":{"_0":"The data returned by the call to `ILockCallback(msg.sender).lockCallback(data)`"}},"settleFor(address,address,uint256)":{"params":{"amount":"The amount to settle. 0 to settle all outstanding debt","currency":"The currency to settle","target":"The address whose delta will be updated"}},"take(address,address,uint256)":{"details":"Can also be used as a mechanism for _free_ flash loans"}},"version":1},"userdoc":{"kind":"user","methods":{"accountAppBalanceDelta((address,address,address,address,uint24,bytes32),int256,address)":{"notice":"Called by registered app to account for a change in the pool balance, convenient for AMM pool manager, typically after modifyLiquidity, swap, donate"},"accountAppBalanceDelta(address,int128,address)":{"notice":"This works as a general accounting mechanism for non-dex app"},"allowance(address,address,address)":{"notice":"get the amount that user has authorized for spender to use"},"approve(address,address,uint256)":{"notice":"approve spender for using user's token"},"balanceOf(address,address)":{"notice":"get the amount of user's surplus token in vault"},"burn(address,address,uint256)":{"notice":"Called by the user to use surplus tokens for payment settlement"},"collectFee(address,uint256,address)":{"notice":"Called by app to collect any fee related"},"currencyDelta(address,address)":{"notice":"Get the current delta for a locker in the given currency"},"getLocker()":{"notice":"Returns the locker who is locking the vault"},"getUnsettledDeltasCount()":{"notice":"Returns lock data"},"lock(bytes)":{"notice":"All operations go through this function"},"mint(address,address,uint256)":{"notice":"Called by the user to store surplus tokens in the vault"},"registerApp(address)":{"notice":"register an app so that it can perform accounting base on vault"},"reservesOfApp(address,address)":{"notice":"Returns the reserves for a a given pool type and currency"},"reservesOfVault(address)":{"notice":"Returns the reserves for a currency thats sync in transient storage"},"settle(address)":{"notice":"Called by the user to pay what is owed"},"settleFor(address,address,uint256)":{"notice":"move the delta from target to the msg.sender, only payment delta can be moved"},"sync(address)":{"notice":"Called before erc20 transfer to tstore the current reserve balance"},"take(address,address,uint256)":{"notice":"Called by the user to net out some value owed to the user"},"transfer(address,address,uint256)":{"notice":"transfer user' token to someone else"},"transferFrom(address,address,address,uint256)":{"notice":"transfer user's token to someone else on behalf of user"}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","@pancakeswap/v4-core/=lib/pancake-v4-core/","@pancakeswap/v4-periphery/=lib/pancake-v4-periphery/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-gas-snapshot/=lib/pancake-v4-core/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/","pancake-v4-core/=lib/pancake-v4-core/","pancake-v4-periphery/=lib/pancake-v4-periphery/","prb-math/=lib/prb-math/src/","solmate/=lib/solmate/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/pancake-v4-core/src/interfaces/IVault.sol":"IVault"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"lib/pancake-v4-core/src/interfaces/IERC20Minimal.sol":{"keccak256":"0xd21325930292346a3d8ccd787a3c1f2e96da5af5b8b1871f3230ef40a2dfb080","urls":["bzz-raw://adc2083a73040d486be24418b86bd46380aaac7a06923d8a3b1675d6a03d0f99","dweb:/ipfs/QmVE6sj6CBdR1tus2aYQoRTKFtjGaUufZN2C9QV88birgc"],"license":"MIT"},"lib/pancake-v4-core/src/interfaces/IHooks.sol":{"keccak256":"0x1a47a0c52d038f3f231de66c7d558fc6dfc663f4b24c6e95bef922423cfdc027","urls":["bzz-raw://eb2792b93a6601ba00141245e8101bd35c91df2d7e13e8cc31966ed85fde291a","dweb:/ipfs/QmTihJz4NjA1G4217v58LaBYwLo5xaMXyLGUrbaFKXRLDd"],"license":"MIT"},"lib/pancake-v4-core/src/interfaces/IPoolManager.sol":{"keccak256":"0x5b909dcddd6280ca0dba6d5ddc949c1640ee11dfcf8edfd67c030aaee34a7ad2","urls":["bzz-raw://3cd7bcfa9a82e175e55600e8e8a0dc7f840cb2c9df4414b9c8cfb94eb7971bb9","dweb:/ipfs/QmaFZ6DUUAWiv7W8vA4kbfinAQFm4xpjQNk5kdtCwnLbdT"],"license":"MIT"},"lib/pancake-v4-core/src/interfaces/IVault.sol":{"keccak256":"0x31673494ff60d61195f98ec2f5ea0a212856f6f1d31b435c9d39d73a18524990","urls":["bzz-raw://55a19205c0359f2cc2bca4ac98914645dd20e5a08b558ff5a49c5d8f21e624a8","dweb:/ipfs/QmUKwCsmEinpSZ4tqZVJRXSUPJV8XWfRxatSW13PD8HAXM"],"license":"MIT"},"lib/pancake-v4-core/src/interfaces/IVaultToken.sol":{"keccak256":"0xd797ac4079da85c7a567113387e28c80e7500f4d86c8135db8de95abdf5c6e99","urls":["bzz-raw://3aef9e38b91d5c8dae9f6c363e29cab77b761a69ceee9fbd24403154a03b8660","dweb:/ipfs/QmeiSkKB2M5knX5JB7rUiCNoVXAmxpm5VWumeStrDjBFDB"],"license":"MIT"},"lib/pancake-v4-core/src/libraries/SafeCast.sol":{"keccak256":"0x9cbb4deefa6484fc1118d9ae72d722e71814b348731d7076692ae50b9031f0d1","urls":["bzz-raw://f0e3bd73a57b9615f5d2ccbbca9929bc06878319e9ae2766db20d19a32e78853","dweb:/ipfs/Qmbk8uduYAzdLB2oEnzhaMjcxxMmpgyaYAcHZ7wU3nUrBZ"],"license":"GPL-2.0-or-later"},"lib/pancake-v4-core/src/types/BalanceDelta.sol":{"keccak256":"0xe0cbcbc0e9aef0d26a9ef50842a520bf12119b719b6e069fd962acb8ef7b5f11","urls":["bzz-raw://72d77b9250591d710f7c2dd96c4f4726eeabb715241ab95e3c31904886d046e3","dweb:/ipfs/Qmbg4NurmaaUsNtppbotGHhmLx4mZCnCmFw6Aaf6jNb5ye"],"license":"MIT"},"lib/pancake-v4-core/src/types/Currency.sol":{"keccak256":"0x0397802dd803c0597f1901730205d88a2f8bc477e8e01dec4388b10657fd6612","urls":["bzz-raw://ec69282d8f1aed08727b2aef64312acb70f53e7cc7eccc987d7c1a1763bcbe90","dweb:/ipfs/QmcYVAvNgUegatJpj36jP2ZwUFAEB8vaPU6HPXR9zT2xJ8"],"license":"MIT"},"lib/pancake-v4-core/src/types/PoolId.sol":{"keccak256":"0x97edd77c22b437593e308eb69ba4784c0f29b838d2eda4736062e052cdf97de9","urls":["bzz-raw://ec8b9814de701ff4d33993e93ecdbc766464296326a642740e8ea286d0d57c3c","dweb:/ipfs/Qmdn5YXLggxU42sBtAUzWzChqx2ZaiAQPcH3d3LF7k5gyK"],"license":"MIT"},"lib/pancake-v4-core/src/types/PoolKey.sol":{"keccak256":"0x8bd3aed0b084a2212fde0da30545f6b1ebe3cfee0cc37b0b6f86672014344579","urls":["bzz-raw://b434855923c5751ede1760408f38ccdc756f87e9be09b451bbc2743f0ec81501","dweb:/ipfs/QmarGBR8SJGK4fWkmiESn4tJUKR6yRUyy6DJxJkpEEi1gk"],"license":"MIT"}},"version":1},"id":13}